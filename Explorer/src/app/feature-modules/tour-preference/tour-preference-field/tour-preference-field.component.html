<div class="preferences-container">
  <button (click)="toggleForm()" class="toggle-button">
    <i [ngClass]="{'fa-chevron-down': formState === 'collapsed', 'fa-chevron-up': formState === 'expanded'}"></i>
    <span class="toggle-text">{{ formState === 'collapsed' ? 'Preferences &#9660;' : 'Preferences &#9650;' }}</span>
  </button>
  <form [formGroup]="tourPreferenceForm" class="custom-form" [@expandForm]="formState">
    <div class="preference"> <!-- There's only one preference -->
      <label for="difficulty">Difficulty:</label>
      <input type="number" id="difficulty" formControlName="difficulty" class="form-control" [readonly]="!isEditing">

      <label for="walkingRating">Walking Rating:</label>
      <input type="number" id="walkingRating" formControlName="walkingRating" class="form-control" [readonly]="!isEditing">

      <label for="bicycleRating">Bicycle Rating:</label>
      <input type="number" id="bicycleRating" formControlName="bicycleRating" class="form-control" [readonly]="!isEditing">

      <label for="carRating">Car Rating:</label>
      <input type="number" id="carRating" formControlName="carRating" class="form-control" [readonly]="!isEditing">

      <label for="boatRating">Boat Rating:</label>
      <input type="number" id="boatRating" formControlName="boatRating" class="form-control" [readonly]="!isEditing">
      
      <label for="tags">Tags:</label>
      <input type="text" id="tags" formControlName="tagsInput" class="form-control" [readonly]="!isEditing">
      <button type="button" class="add-tag-button" (click)="addTag()">Add Tag</button>
      <div class="tag-list">
        <div *ngFor="let tag of preference.tags; let i = index" class="tag-box">
          <span>{{ tag }}</span>
          <button class="remove-tag-button" (click)="removeTag(i)">
            <i class="fa fa-trash"></i>
          </button>
        </div>
      </div>
    </div>
    <hr class="divider">
    <button type="button" class="edit-button" [class.save]="isEditing" (click)="toggleEdit()">
      {{ isEditing ? 'Save' : 'Edit' }}
    </button>
  </form>
</div>
